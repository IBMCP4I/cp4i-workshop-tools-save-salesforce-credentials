<!DOCTYPE html>
<!--
  Copyright 2020 IBM All Rights Reserved.

  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements.  See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership.  The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied.  See the License for the
  specific language governing permissions and limitations
  under the License.
 -->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>ACE Lab - Save Salesforce credentials login</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="font-awesome-5.1.2/css/all.css">
    <script src="font-awesome-5.1.2/js/all.js"></script>
  </head>
  <body>
    <header>
   <div class="container">
    <div class="row">
    <div class="col-md-8">
    <div class="banner-txt-bold"><span><h5>ACE Lab - Save Salesforce credentials</h5></span></div>
    </div>
    </div>
    </div>
    </header>

    <div class="container">

      <form action="auth" class="needs-validation" method="POST" novalidate>
        <div class="form-row col-md-6 mt-3">

          <label class="form-control-label" for="uname"><strong>Username:</strong></label>
          <input type="text" class="form-control" id="uname" placeholder="Enter username" name="username" required>
          <div class="invalid-feedback">Please enter your username</div>

        </div>

        <div class="form-row col-md-6 mt-3">

          <label class="form-control-label" for="pwd"><strong>Password:</strong></label>
          <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="password" required>
          <div class="invalid-feedback">Please enter your password</div>

        </div>

        <div class="form-row col-md-6 mt-3">
        <button type="submit" class="btn btn-primary btn-block custom-login-btn">Login</button>
        </div>

        <div class="form-row col-md-6 mt-3">
        <span id="login-error" class="text-danger"></span>
        </div>
    </form>
    </div>

    <div class="mt-6"><hr/></div>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function() {
        'use strict';
        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.getElementsByClassName('needs-validation');
          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      })();
   </script>
   <script>
     $(document).ready(function() {
       console.log(window.location.href);
       if (window.location.href.includes("loginerror=true")) {
          console.log("Found login error");
          $('#login-error').text('Invalid username or password');
       }
       else {
         console.log("Login error not found");
          $('#login-error').text('');
       }
     });
   </script>
  </body>
</html>
